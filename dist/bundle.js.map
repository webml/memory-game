{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;;;;;ACAO;AACP;AACA,cAAc;AACd,eAAe;AACf;AACA,yDAAyD,gBAAgB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACnC2B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qCAAG;AACtC;AACA,wBAAwB,qCAAG;AAC3B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,6BAA6B;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACO;AACP,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACtP4B;AACrB;AACP;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX,QAAQ,iDAAe;AACvB;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,QAAQ,qCAAG;AACX,QAAQ,iDAAe;AACvB;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX,QAAQ,iDAAe;AACvB;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX,QAAQ,iDAAe;AACvB;AACA;AACA;;;;;;;UCzDA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNe;AACG;AACC;AACO","sources":["webpack://memorycardgame/./src/css/style.css?6b7b","webpack://memorycardgame/./src/ts/app.ts","webpack://memorycardgame/./src/ts/blocks.ts","webpack://memorycardgame/./src/ts/screens.ts","webpack://memorycardgame/webpack/bootstrap","webpack://memorycardgame/webpack/runtime/define property getters","webpack://memorycardgame/webpack/runtime/hasOwnProperty shorthand","webpack://memorycardgame/webpack/runtime/make namespace object","webpack://memorycardgame/./src/ts/index.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","export var app = document.querySelector(\".app\");\r\nwindow.application = window.application || {\r\n    blocks: {},\r\n    screens: {},\r\n    renderScreen: function (screenName) {\r\n        for (var _i = 0, _a = window.application.timers; _i < _a.length; _i++) {\r\n            var timer = _a[_i];\r\n            clearTimeout(timer);\r\n        }\r\n        window.application.timers = [];\r\n        if (window.application.screens[screenName] === undefined) {\r\n            return;\r\n        }\r\n        if (app != null) {\r\n            app.textContent = \"\";\r\n        }\r\n        window.application.screens[screenName]();\r\n    },\r\n    renderBlock: function (blockName, container, content, className, numberOfCards, cardsId, cardsFront) {\r\n        if (!window.application.blocks[blockName]) {\r\n            console.log(\"Такой блок не существует\");\r\n        }\r\n        window.application.blocks[blockName](container, content, className, numberOfCards, cardsId, cardsFront);\r\n    },\r\n    time: \"00.00\",\r\n    timers: [],\r\n    level: null,\r\n    gameCards: [],\r\n    choiceCards: {\r\n        id: null,\r\n        src: null,\r\n    },\r\n};\r\nwindow.addEventListener(\"load\", function () {\r\n    window.application.renderScreen(\"select-level\");\r\n});\r\n","import { app } from \"./app\";\r\nvar allCards = [\r\n    \"static/cards/sa.png\",\r\n    \"static/cards/sk.png\",\r\n    \"static/cards/sq.png\",\r\n    \"static/cards/sj.png\",\r\n    \"static/cards/s10.png\",\r\n    \"static/cards/s9.png\",\r\n    \"static/cards/s8.png\",\r\n    \"static/cards/s7.png\",\r\n    \"static/cards/s6.png\",\r\n    \"static/cards/ha.png\",\r\n    \"static/cards/hk.png\",\r\n    \"static/cards/hq.png\",\r\n    \"static/cards/hj.png\",\r\n    \"static/cards/h10.png\",\r\n    \"static/cards/h9.png\",\r\n    \"static/cards/h8.png\",\r\n    \"static/cards/h7.png\",\r\n    \"static/cards/h6.png\",\r\n    \"static/cards/da.png\",\r\n    \"static/cards/dk.png\",\r\n    \"static/cards/dq.png\",\r\n    \"static/cards/dj.png\",\r\n    \"static/cards/d10.png\",\r\n    \"static/cards/d9.png\",\r\n    \"static/cards/d8.png\",\r\n    \"static/cards/d7.png\",\r\n    \"static/cards/d6.png\",\r\n    \"static/cards/ca.png\",\r\n    \"static/cards/ck.png\",\r\n    \"static/cards/cq.png\",\r\n    \"static/cards/cj.png\",\r\n    \"static/cards/c10.png\",\r\n    \"static/cards/c9.png\",\r\n    \"static/cards/c8.png\",\r\n    \"static/cards/c7.png\",\r\n    \"static/cards/c6.png\",\r\n];\r\nexport var renderHeaderBlock = function (container, content, className) {\r\n    var header = document.createElement(\"h1\");\r\n    if (className) {\r\n        header.classList.add(className);\r\n    }\r\n    if (typeof content === \"string\") {\r\n        header.textContent = content;\r\n    }\r\n    container.appendChild(header);\r\n};\r\nwindow.application.blocks[\"header\"] = renderHeaderBlock;\r\nexport var renderSelectLevelBlock = function (container) {\r\n    var selectLevel = document.createElement(\"div\");\r\n    selectLevel.classList.add(\"level-popup__select-level\");\r\n    window.application.renderBlock(\"select-btn\", selectLevel, 1, undefined, 6);\r\n    window.application.renderBlock(\"select-btn\", selectLevel, 2, undefined, 12);\r\n    window.application.renderBlock(\"select-btn\", selectLevel, 3, undefined, 18);\r\n    container.appendChild(selectLevel);\r\n};\r\nwindow.application.blocks[\"select-level\"] = renderSelectLevelBlock;\r\nexport var renderSelectBtnBlock = function (container, content, className, numberOfCards) {\r\n    if (className === void 0) { className = \"level-popup__select-btn\"; }\r\n    var selectBtn = document.createElement(\"button\");\r\n    selectBtn.classList.add(className);\r\n    selectBtn.textContent = String(content);\r\n    selectBtn.addEventListener(\"click\", function () {\r\n        if (numberOfCards) {\r\n            window.application.level = numberOfCards;\r\n        }\r\n        var selectButtons = Array.from(container.getElementsByClassName(\"level-popup__select-btn\"));\r\n        selectButtons.forEach(function (element) {\r\n            return element.classList.remove(\"level-popup__select-btn_active\");\r\n        });\r\n        selectBtn.classList.add(\"level-popup__select-btn_active\");\r\n    });\r\n    container.appendChild(selectBtn);\r\n};\r\nwindow.application.blocks[\"select-btn\"] = renderSelectBtnBlock;\r\nexport var renderActiveBtnBlock = function (container, content, className) {\r\n    var activeBtn = document.createElement(\"button\");\r\n    if (className) {\r\n        activeBtn.classList.add(className);\r\n    }\r\n    if (typeof content === \"string\") {\r\n        activeBtn.textContent = content;\r\n    }\r\n    activeBtn.addEventListener(\"click\", function () {\r\n        if (content === \"Старт\" && app != null) {\r\n            window.application.level === null\r\n                ? error(app)\r\n                : window.application.renderScreen(\"game\");\r\n        }\r\n        else {\r\n            window.application.renderScreen(\"select-level\");\r\n        }\r\n    });\r\n    container.appendChild(activeBtn);\r\n};\r\nwindow.application.blocks[\"active-btn\"] = renderActiveBtnBlock;\r\nexport var error = function (container) {\r\n    var error = document.createElement(\"div\");\r\n    container.appendChild(error);\r\n    error.textContent = \"Сложность не выбрана\";\r\n    error.classList.add(\"error\");\r\n    setTimeout(function () {\r\n        container.removeChild(error);\r\n    }, 1500);\r\n};\r\nexport var renderGameBarBlock = function (container) {\r\n    var gameBar = document.createElement(\"div\");\r\n    gameBar.classList.add(\"game-bar\");\r\n    window.application.renderBlock(\"timer\", gameBar);\r\n    window.application.renderBlock(\"active-btn\", gameBar, \"Начать заново\", \"game-bar__restart-btn\");\r\n    container.appendChild(gameBar);\r\n};\r\nwindow.application.blocks[\"game-bar\"] = renderGameBarBlock;\r\nexport var renderTimerBlock = function (container) {\r\n    var timer = document.createElement(\"div\");\r\n    timer.classList.add(\"game-bar__timer\");\r\n    var timerDesc = document.createElement(\"div\");\r\n    timerDesc.classList.add(\"game-bar__timer-description\");\r\n    timer.appendChild(timerDesc);\r\n    var minDesc = document.createElement(\"p\");\r\n    minDesc.textContent = \"min\";\r\n    timerDesc.appendChild(minDesc);\r\n    var secDesc = document.createElement(\"p\");\r\n    secDesc.textContent = \"sec\";\r\n    timerDesc.appendChild(secDesc);\r\n    var time = document.createElement(\"p\");\r\n    time.classList.add(\"game-bar__timer-time\");\r\n    time.textContent = window.application.time;\r\n    timer.appendChild(time);\r\n    container.appendChild(timer);\r\n    var sec = 0;\r\n    var min = 0;\r\n    var tick = function () {\r\n        sec++;\r\n        if (sec >= 60) {\r\n            sec = 0;\r\n            min++;\r\n        }\r\n    };\r\n    window.application.time = \"00.00\";\r\n    var add = function () {\r\n        tick();\r\n        window.application.time =\r\n            (min > 9 ? min : \"0\" + min) + \".\" + (sec > 9 ? sec : \"0\" + sec);\r\n        stopwatch();\r\n    };\r\n    var stopwatch = function () {\r\n        var timer = setTimeout(add, 1000);\r\n        time.textContent = window.application.time;\r\n        window.application.timers.push(timer);\r\n    };\r\n    setTimeout(function () {\r\n        stopwatch();\r\n    }, 5000);\r\n};\r\nwindow.application.blocks[\"timer\"] = renderTimerBlock;\r\nexport var renderCurrentTimeBlock = function (container, className) {\r\n    var currentTime = document.createElement(\"div\");\r\n    currentTime.classList.add(\"\".concat(className, \"__current-time\"));\r\n    var message = document.createElement(\"p\");\r\n    message.textContent = \"Затраченное время:\";\r\n    message.classList.add(\"\".concat(className, \"__time-description\"));\r\n    currentTime.appendChild(message);\r\n    var time = document.createElement(\"p\");\r\n    time.textContent = window.application.time;\r\n    time.classList.add(\"\".concat(className, \"__time\"));\r\n    currentTime.appendChild(time);\r\n    container.appendChild(currentTime);\r\n};\r\nwindow.application.blocks[\"current-time\"] = renderCurrentTimeBlock;\r\nexport var renderCardsBlock = function (container) {\r\n    var cards = document.createElement(\"div\");\r\n    cards.classList.add(\"cards\");\r\n    window.application.gameCards = [];\r\n    var cardsId = 0;\r\n    var cardsFront;\r\n    var getRandCard = function () {\r\n        var rand = Math.floor(Math.random() * allCards.length);\r\n        window.application.gameCards.push(allCards[rand]);\r\n        window.application.gameCards.push(allCards[rand]);\r\n    };\r\n    while (window.application.gameCards.length !== window.application.level) {\r\n        getRandCard();\r\n    }\r\n    window.application.gameCards = window.application.gameCards.sort(function () { return Math.random() - 0.5; });\r\n    while (cardsId !== window.application.level) {\r\n        cardsFront = window.application.gameCards[cardsId];\r\n        window.application.renderBlock(\"card\", cards, undefined, undefined, undefined, cardsId, cardsFront);\r\n        cardsId++;\r\n    }\r\n    setTimeout(function () {\r\n        cards.addEventListener(\"click\", function (e) {\r\n            var card = e.target;\r\n            if (card.id === \"\") {\r\n                return;\r\n            }\r\n            if (window.application.choiceCards.id === Number(card.id)) {\r\n                return;\r\n            }\r\n            card.src = window.application.gameCards[Number(card.id)];\r\n            if (window.application.choiceCards.id === null) {\r\n                window.application.choiceCards.id = Number(card.id);\r\n                window.application.choiceCards.src = card.src;\r\n                return;\r\n            }\r\n            if (window.application.choiceCards.src === card.src) {\r\n                window.application.choiceCards.id = null;\r\n                window.application.choiceCards.src = null;\r\n                checkWin();\r\n            }\r\n            else {\r\n                window.application.choiceCards.id = null;\r\n                window.application.choiceCards.src = null;\r\n                window.application.renderScreen(\"lose\");\r\n            }\r\n        });\r\n    }, 5000);\r\n    container.appendChild(cards);\r\n};\r\nwindow.application.blocks[\"cards\"] = renderCardsBlock;\r\nexport var checkWin = function () {\r\n    var result = true;\r\n    var cards = Array.from(document.getElementsByClassName(\"card\"));\r\n    cards.forEach(function (card) {\r\n        if (card.attributes[0].value === \"static/card_back.png\") {\r\n            result = false;\r\n        }\r\n    });\r\n    if (result === true) {\r\n        window.application.renderScreen(\"win\");\r\n    }\r\n};\r\nexport var renderCardBlock = function (container, content, className, numberOfCards, cardsId, cardsFront) {\r\n    if (className === void 0) { className = \"card\"; }\r\n    var card = document.createElement(\"img\");\r\n    if (cardsFront) {\r\n        card.src = cardsFront;\r\n    }\r\n    card.classList.add(className);\r\n    if (cardsId != undefined) {\r\n        card.id = String(cardsId);\r\n    }\r\n    container.appendChild(card);\r\n};\r\nwindow.application.blocks[\"card\"] = renderCardBlock;\r\n","import { app } from \"./app\";\r\nexport var renderSelectLevelScreen = function () {\r\n    var levelPopup = document.createElement(\"div\");\r\n    levelPopup.classList.add(\"level-popup\");\r\n    window.application.renderBlock(\"header\", levelPopup, \"Выбери сложность\", \"level-popup__header\");\r\n    window.application.renderBlock(\"select-level\", levelPopup);\r\n    window.application.renderBlock(\"active-btn\", levelPopup, \"Старт\", \"level-popup__start-btn\");\r\n    if (app != null) {\r\n        app.appendChild(levelPopup);\r\n    }\r\n};\r\nwindow.application.screens[\"select-level\"] = renderSelectLevelScreen;\r\nexport var renderGameScreen = function () {\r\n    var gameScreen = document.createElement(\"div\");\r\n    gameScreen.classList.add(\"game-screen\");\r\n    window.application.time = \"00.00\";\r\n    window.application.renderBlock(\"game-bar\", gameScreen);\r\n    window.application.renderBlock(\"cards\", gameScreen);\r\n    setTimeout(function () {\r\n        Array.from(document.getElementsByClassName(\"card\")).forEach(function (card) {\r\n            card.attributes[0].value = \"static/card_back.png\";\r\n        });\r\n    }, 5000);\r\n    if (app != null) {\r\n        app.appendChild(gameScreen);\r\n    }\r\n};\r\nwindow.application.screens[\"game\"] = renderGameScreen;\r\nexport var renderWinScreen = function () {\r\n    var winPopup = document.createElement(\"div\");\r\n    winPopup.classList.add(\"win-popup\");\r\n    var imgWin = document.createElement(\"img\");\r\n    imgWin.src = \"static/celebration.png\";\r\n    imgWin.classList.add(\"win-popup__img\");\r\n    winPopup.appendChild(imgWin);\r\n    window.application.renderBlock(\"header\", winPopup, \"Вы выиграли!\", \"win-popup__header\");\r\n    window.application.renderBlock(\"current-time\", winPopup, \"win-popup\");\r\n    window.application.renderBlock(\"active-btn\", winPopup, \"Играть снова\", \"win-popup__restart-btn\");\r\n    if (app != null) {\r\n        app.appendChild(winPopup);\r\n    }\r\n};\r\nwindow.application.screens[\"win\"] = renderWinScreen;\r\nexport var renderLoseScreen = function () {\r\n    var losePopup = document.createElement(\"div\");\r\n    losePopup.classList.add(\"lose-popup\");\r\n    var imgLose = document.createElement(\"img\");\r\n    imgLose.src = \"static/dead.png\";\r\n    imgLose.classList.add(\"lose-popup__img\");\r\n    losePopup.appendChild(imgLose);\r\n    window.application.renderBlock(\"header\", losePopup, \"Вы проиграли!\", \"lose-popup__header\");\r\n    window.application.renderBlock(\"current-time\", losePopup, \"lose-popup\");\r\n    window.application.renderBlock(\"active-btn\", losePopup, \"Играть снова\", \"lose-popup__restart-btn\");\r\n    if (app != null) {\r\n        app.appendChild(losePopup);\r\n    }\r\n};\r\nwindow.application.screens[\"lose\"] = renderLoseScreen;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./app\";\r\nimport \"./blocks\";\r\nimport \"./screens\";\r\nimport \"../css/style.css\";\r\n"],"names":[],"sourceRoot":""}